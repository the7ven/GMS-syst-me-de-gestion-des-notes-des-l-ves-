<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css"> 
    <title>GMS</title>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Gestion des Moyennes Scolaires</h1>
           
        </div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab(event, 'dashboard')">Tableau de Bord</button>
            <button class="tab" onclick="switchTab(event, 'classes_management')">Classes & √âl√®ves</button>
            <button class="tab" onclick="switchTab(event,'grades')">Notes</button>
            <button class="tab" onclick="switchTab(event,'results')">R√©sultats</button>
        </div>

        <div class="content">
            
            <div id="dashboard" class="tab-content active">
                <h2>Tableau de Bord Scolaire </h2>
                <div id="dashboardContent">
                    <p>Chargement des donn√©es en cours...</p>
                </div>
            </div>

            <div id="classes_management" class="tab-content">
                
                <h2>1. Liste des Classes (Cliquez pour g√©rer les √©l√®ves)</h2>
                <div id="classesAndStudentsList"> 
                     </div>

               <h2>2. Outils de Gestion</h2>
               <div class="card">
                    <h3>Classes</h3>
                    <button class="btn btn-secondary" onclick="openClassModal(null, 'Nouvelle', 'creation')">Ajouter une Nouvelle Classe</button>
                    <button class="btn btn-primary" onclick="createDefaultClassesIfEmpty()">Ajouter Classes Cameroun par D√©faut</button>
               </div>
                
                <div class="card">
                    <h3>Import/Export des Donn√©es</h3>
                    <button class="btn btn-secondary" onclick="exportData()">Exporter les Donn√©es (JSON)</button>
                    
                    <div class="form-group" style="margin-top: 15px;">
                        <label>Importer un fichier de sauvegarde (JSON)</label>
                        <input type="file" id="importFile" accept=".json">
                        <button class="btn btn-danger" onclick="handleImport()" style="margin-top: 5px;">Importer et √âcraser</button>
                    </div>
                </div>

            </div>
            
            <div id="grades" class="tab-content">
                <h2>Saisie des Notes par Classe </h2>
                <p>S√©lectionnez une classe, puis un √©l√®ve pour entrer ses notes s√©quentielles (sur 20).</p>
                <div id="gradesClassesContainer"> 
                    <p style="text-align: center;">Chargement des classes...</p>
                </div>
            </div>

            <div id="results" class="tab-content">
                <h2>Consultation des R√©sultats Individuels üéì</h2>
                <p>Cliquez sur une classe pour consulter les bulletins de ses √©l√®ves.</p>
                <div id="resultsClassesContainer"> 
                    <p style="text-align: center;">Chargement des classes...</p>
                </div>
                <div id="resultsContainer" style="display: none;"></div> 
            </div>
        </div>
    </div>

    <footer class="app-footer">
        <div class="footer-content">
            <p>&copy; 2025 GMS - Gestion des Moyennes Scolaires</p>
            <div id="status"></div>
        </div>
    </footer>
    
    <div id="classModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeClassModal()">&times;</span>
            <h2 id="modalTitle"></h2>
            <div id="modalBody">
                </div>
        </div>
    </div>
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeAddStudentModal()">&times;</span>
            <h2>Ajouter un √©l√®ve</h2>
            <div class="form-group">
                <label>Nom de l'√©l√®ve</label>
                <input type="text" id="newStudentName" placeholder="Entrez le nom de l'√©l√®ve">
            </div>
            <button class="btn" onclick="saveNewStudentFromModal()">Ajouter l'√©l√®ve</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>